!function(e){"use strict";function t(t,n,o){var r=document.getElementById("ZwSg9rf6GA");if("true"===r.getAttribute("data-dnt")&&navigator.doNotTrack)return!1;var a={};a.referrer=n||e.document.referrer,a.page=e.location.href.replace(/#.+$/,""),a.screen_resolution=screen.width+"x"+screen.height,t&&(a.event=t),o&&"object"==typeof o&&Object.keys(o).forEach(function(e){a[e]=o[e]});var s="/api/event";o&&!0===o.useWebhook&&(s="/api/webhook");var i=new XMLHttpRequest;i.open("POST",r.getAttribute("data-host")+s,!0),i.setRequestHeader("Content-Type","application/json; charset=utf-8");var c=r.getAttribute("data-key");return c&&i.setRequestHeader("X-Domain-Key",c),i.send(JSON.stringify(a)),{then:function(e){return i.onreadystatechange=function(){4===i.readyState&&e({status:i.status,response:i.responseText?JSON.parse(i.responseText):null})},this},catch:function(e){return i.onerror=function(){e(new Error("Network error occurred"))},this}}}try{var n=history.pushState;history.pushState=function(){var o=e.location.href.replace(/#.+$/,"");n.apply(history,arguments),t(null,o)},e.onpopstate=function(e){t(null)},e.pa={},e.pa.track=t,e.pa.webhook=function(t,n){return(n=n||{}).useWebhook=!0,n.domain=e.location.hostname.replace("www.",""),t(null,null,n)},t(null)}catch(e){console.log(e.message)}}(window);
